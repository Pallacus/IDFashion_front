<div class="body">


    <section class="pt-5 pb-5">
        <div class="container ">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col">
                    <div class="card cartContain sh">
                        <div class="card-body p-4">

                            <div class="row">

                                <div class="col-lg-7 ">
                                    <h5 class="mb-3"><a href="#!" class="text-body text-decoration-none"><i
                                                class="fas fa-long-arrow-alt-left me-2 fs-5"></i>Go Home</a></h5>
                                    <hr>

                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <div>
                                            <p class="mb-1">Shopping cart</p>
                                            <p class="mb-0">You have {{totalItems}} items in your cart</p>
                                        </div>

                                    </div>
                                    @for( item of productGroup; track item.id ){
                                    <div class="card mb-3 sh">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between">
                                                <div class="d-flex flex-row align-items-center">
                                                    <div>
                                                        <img src="{{item.product.image}}" class="img-fluid rounded-3"
                                                            alt="Shopping item" style="width: 65px;">
                                                    </div>
                                                    <div class="ms-3">
                                                        <h5>{{item.product.title}}</h5>
                                                    </div>
                                                </div>
                                                <div class="d-flex flex-row align-items-center">
                                                    <div style="width: 50px;">
                                                        <h5 class="fw-normal mb-0">{{item.quantity}}</h5>
                                                    </div>
                                                    <div style="width: 80px;">
                                                        <h5 class="mb-0">{{item.total}} &euro;</h5>
                                                    </div>
                                                    <a (click)="DeleteItem(item.id)" style="color: var(--darkColor)"><i
                                                            class="fas fa-trash-alt"></i></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    }


                                </div>

                                <div class="col-lg-5">

                                    <div class="card myBg text-white rounded-3 sh">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-4">
                                                <h5 class="mb-0">CARD DETAILS</h5>
                                            </div>

                                            <p class="small mb-2">Card type</p>
                                            <a href="#!" type="submit" class="text-white"><i
                                                    class="fab fa-cc-mastercard fa-2x me-2"></i></a>
                                            <a href="#!" type="submit" class="text-white"><i
                                                    class="fab fa-cc-visa fa-2x me-2"></i></a>
                                            <a href="#!" type="submit" class="text-white"><i
                                                    class="fab fa-cc-paypal fa-2x"></i></a>

                                            <form class="mt-4" [formGroup]="formulario" (ngSubmit)="onSubmit()">
                                                <div data-mdb-input-init class="form-outline form-white mb-4">
                                                    <input type="text" id="typeName"
                                                        class="form-control form-control-lg sh" siez="17"
                                                        placeholder="Cardholder's Name" formControlName="cardName" />
                                                    <label class="form-label" for="typeName">Cardholder's Name</label>
                                                </div>

                                                <div data-mdb-input-init class="form-outline form-white mb-4">
                                                    <input type="text" id="typeText"
                                                        class="form-control form-control-lg sh" siez="17"
                                                        placeholder="1234 5678 9012 3457" minlength="19" maxlength="19"
                                                        formControlName="cardNumber" (keyup)="spacerInput($event)" />
                                                    <label class="form-label" for="typeText">Card Number</label>
                                                </div>

                                                <div class="row mb-4">
                                                    <div class="col-md-6">
                                                        <div data-mdb-input-init class="form-outline form-white">
                                                            <input type="text" id="typeExp"
                                                                class="form-control form-control-lg sh"
                                                                placeholder="MM/YY" size="5" id="typeExp" minlength="5"
                                                                maxlength="5" formControlName="expiration"
                                                                (keyup)="modifyInput($event)" />
                                                            <label class="form-label" for="typeExp">Expiration</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div data-mdb-input-init class="form-outline form-white">
                                                            <input type="password" id="typeText"
                                                                class="form-control form-control-lg sh"
                                                                placeholder="&#9679;&#9679;&#9679;" size="1"
                                                                minlength="3" maxlength="3" formControlName="cvv" />
                                                            <label class="form-label" for="typeText">Cvv</label>
                                                        </div>
                                                    </div>
                                                </div>

                                            </form>

                                            <hr class="my-4">

                                            <p>Applied discounts</p>

                                            <p>Free shipping!</p>

                                            <div class="d-flex justify-content-between mb-4">
                                                <p class="mb-2">Total(Incl. taxes)</p>
                                                <p class="mb-2">{{total}} &euro;</p>
                                            </div>

                                            <button type="button" data-mdb-button-init data-mdb-ripple-init
                                                class="btn btn-info btn-block btn-lg" (click)="onSubmit()"
                                                [disabled]="!formulario.valid">
                                                <div class="d-flex gap-2 justify-content-between">
                                                    <span>{{total}} &euro;</span>
                                                    <span>Checkout <i
                                                            class="fas fa-long-arrow-alt-right ms-2"></i></span>
                                                </div>
                                            </button>

                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


</div>